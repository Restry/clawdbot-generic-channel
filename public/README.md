# Generic Channel - 增强版 H5 聊天界面

## 🎨 全新设计的现代化聊天界面

这是 Generic Channel 的全新 H5 聊天界面，采用现代化设计理念，提供更优秀的用户体验。

## ✨ 核心特性

### 1. **Markdown 完整支持**
- ✅ 标题（H1-H6）
- ✅ 粗体、斜体、删除线
- ✅ 代码块和行内代码
- ✅ 代码语法高亮（支持多种编程语言）
- ✅ 表格
- ✅ 列表（有序和无序）
- ✅ 引用块
- ✅ 链接和图片
- ✅ 任务列表

### 2. **群组聊天支持**
- 支持私聊（Direct）和群聊（Group）模式
- 群组消息显示发送者名称
- 群组历史记录管理
- 多人对话支持

### 3. **现代化 UI 设计**
- 清新的配色方案
- 流畅的动画效果
- 响应式布局，完美支持移动端
- 卡片式消息气泡
- 渐变色主题

### 4. **深色模式**
- 完整的深色主题支持
- 一键切换浅色/深色模式
- 自动保存主题偏好
- 护眼设计

### 5. **富媒体消息**
- 🖼️ 图片消息：支持预览和全屏查看
- 🎤 语音消息：支持录音和播放
- 📎 文件消息：准备支持
- 📹 视频消息：准备支持

### 6. **增强的用户体验**
- 实时连接状态显示
- 自动重连机制
- 消息发送状态反馈
- AI 思考指示器
- 输入框自动调整大小
- 代码块一键复制功能

### 7. **代码展示优化**
- 语法高亮显示
- 支持多种编程语言：
  - JavaScript/TypeScript
  - Python
  - Java/C/C++
  - HTML/CSS
  - JSON/YAML
  - Bash/Shell
  - 等等...
- 代码块悬停显示复制按钮
- 一键复制代码到剪贴板

## 🚀 快速开始

### 1. 打开聊天界面

在浏览器中打开 `public/h5-chat.html` 文件。

### 2. 配置连接

点击右上角的设置按钮（⚙️），填写以下信息：

- **WebSocket 服务器地址**：例如 `ws://localhost:8080/ws`
- **聊天类型**：选择"私聊"或"群聊"
- **聊天 ID**：唯一标识您的聊天会话
- **用户名**：显示的名称

### 3. 开始对话

点击"连接"按钮后，即可开始与 AI 对话。

## 📝 Markdown 使用示例

### 标题
```markdown
# 一级标题
## 二级标题
### 三级标题
```

### 文本样式
```markdown
**粗体文本**
*斜体文本*
~~删除线~~
`行内代码`
```

### 代码块
````markdown
```javascript
function hello() {
  console.log('Hello, World!');
}
```
````

### 列表
```markdown
- 无序列表项 1
- 无序列表项 2

1. 有序列表项 1
2. 有序列表项 2
```

### 表格
```markdown
| 列1 | 列2 | 列3 |
|-----|-----|-----|
| A   | B   | C   |
| 1   | 2   | 3   |
```

### 引用
```markdown
> 这是一段引用文本
> 可以多行
```

### 任务列表
```markdown
- [x] 已完成的任务
- [ ] 未完成的任务
```

## 🎨 主题切换

点击界面上的主题切换按钮（🌓）可以在浅色模式和深色模式之间切换。

主题偏好会自动保存到浏览器本地存储中。

## 👥 群组聊天

### 创建群聊

1. 打开设置
2. 选择"聊天类型"为"群聊 (Group)"
3. 输入群组的 `chatId`
4. 连接

### 群聊特性

- 消息显示发送者名称
- 支持多人同时在线
- 群组历史记录
- 成员识别

## 🔧 技术栈

- **Marked.js**：Markdown 解析和渲染
- **Highlight.js**：代码语法高亮
- **原生 JavaScript**：无需框架，轻量高效
- **CSS3**：现代化样式和动画
- **WebSocket**：实时双向通信

## 📱 响应式设计

界面完全响应式，适配：

- 💻 桌面端（1920px+）
- 💻 笔记本（1366px+）
- 📱 平板（768px+）
- 📱 手机（320px+）

## 🔐 安全特性

- XSS 防护：所有用户输入都经过转义
- 安全的 Markdown 渲染
- 本地存储加密（可选）

## ⚡ 性能优化

- 懒加载图片
- 代码块按需高亮
- 虚拟滚动（消息列表）
- 节流和防抖处理

## 🐛 已知问题

目前没有已知的重大问题。如有发现，请提交 Issue。

## 🔮 未来计划

- [ ] 消息搜索功能
- [ ] 表情符号选择器
- [ ] 文件拖拽上传
- [ ] 消息引用回复
- [ ] 消息编辑和删除
- [ ] @ 提及功能
- [ ] 消息已读状态
- [ ] 多语言支持
- [ ] 自定义主题颜色

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交 Pull Request 或 Issue！

## 📞 支持

如有问题，请访问：
- 官方文档：https://docs.openclaw.ai/
- GitHub Issues：https://github.com/Restry/clawdbot-generic-channel/issues
